function ttt_onElementInserted(t,o,c,i){if("MutationObserver"in window){var e=jQuery(t)[0];new(window.MutationObserver||window.WebKitMutationObserver)(function(t){t.forEach(function(t){if(t.addedNodes.length&&jQuery(t.addedNodes).length){var e=o,n=jQuery(t.addedNodes).filter(o);if(""!=c&&(n=n.find(c),e=o+" "+c),n.each(function(t){i(jQuery(this),t+1,n.length,e)}),!n.length){var s=jQuery(t.addedNodes).find(e);s.each(function(t){i(jQuery(this),t+1,s.length,e)})}}})}).observe(e,{childList:!0,subtree:!0})}else console.log("No MutationObserver")}function ttt_getParameterByName(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var ttt_pnwc={messages:[],init:function(){this.initializePopup(),"yes"===ttt_pnwc_info.ajax_opt&&(ttt_onElementInserted("body",".woocommerce-error","li",ttt_pnwc.readNotice),ttt_onElementInserted("body",".woocommerce-message","",ttt_pnwc.readNotice),ttt_onElementInserted("body",".woocommerce-info","",ttt_pnwc.readNotice)),ttt_pnwc.checkExistingElements(".woocommerce-error li"),ttt_pnwc.checkExistingElements(".woocommerce-message"),ttt_pnwc.checkExistingElements(".woocommerce-info")},open_popup_by_query_string:function(t){var e=ttt_getParameterByName(t=t||"ttt_pnwc");null!==e&&""!==e&&(ttt_pnwc.clearPopupMessages(),ttt_pnwc.messages.push({message:"Customize Popup Notices style easily!",type:"success"}),ttt_pnwc.messages.push({message:"Please take a look at an error message",type:"error"}),ttt_pnwc.messages.push({message:"And a default one too",type:"info"}),ttt_pnwc.addMessagesToPopup(),ttt_pnwc.openPopup())},checkExistingElements:function(e){var n=jQuery(e);n.length&&n.each(function(t){ttt_pnwc.readNotice(jQuery(this),t+1,n.length,e)})},readNotice:function(t,e,n,s){var o="success";-1<s.indexOf("error")?o="error":-1<s.indexOf("info")&&(o="info"),"yes"===ttt_pnwc_info.types[o]&&(e<=n&&ttt_pnwc.storeMessage(t,o),e==n&&(ttt_pnwc.clearPopupMessages(),ttt_pnwc.addMessagesToPopup(),ttt_pnwc.openPopup(t)))},clearPopupMessages:function(){jQuery("#ttt-pnwc-notice").find(".ttt-pnwc-content").empty()},clearMessages:function(){ttt_pnwc.messages=[]},removeDuplicatedMessages:function(){for(var t={},e=0,n=ttt_pnwc.messages.length;e<n;e++)t[ttt_pnwc.messages[e].message]=ttt_pnwc.messages[e];for(var s in ttt_pnwc.messages=new Array,t)ttt_pnwc.messages.push(t[s])},storeMessage:function(t,e){ttt_pnwc.messages.push({message:t.html(),type:e}),ttt_pnwc.removeDuplicatedMessages()},getAdditionalIconClass:function(t){switch(t){case"success":ttt_pnwc_info.success_icon_class;break;case"error":ttt_pnwc_info.error_icon_class;break;case"info":ttt_pnwc_info.info_icon_class}return" "+ttt_pnwc_info.icon_default_class,icon_class},addMessagesToPopup:function(t){jQuery.each(ttt_pnwc.messages,function(t,e){var n=ttt_pnwc.getAdditionalIconClass(e.type);jQuery("#ttt-pnwc-notice .ttt-pnwc-content").append("<div class='ttt-pnwc-notice "+e.type+"'><i class='ttt-pnwc-notice-icon "+n+"'></i><div class='ttt-pnwc-message'>"+e.message+"</div></div>")})},initializePopup:function(){MicroModal.init({awaitCloseAnimation:!0})},openPopup:function(){MicroModal.show("ttt-pnwc-notice",{awaitCloseAnimation:!0,onClose:function(t){ttt_pnwc.clearMessages()}})}};document.addEventListener("DOMContentLoaded",function(){ttt_pnwc.init(),ttt_pnwc.open_popup_by_query_string(),jQuery("body").trigger({type:"ttt_pnwc",obj:ttt_pnwc})});